{"version":3,"sources":["../config/schemas/article.ts","../config/index.tsx","index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAEa,OAAA,CAAA,aAAA,GAAgB,MAAA,CAAA,aAAA,CAAc;AACzC,EAAA,OAAO,EAAE;AACP,IAAA,KAAK,EAAE;AADA,GADgC;AAIzC,EAAA,UAAU,EAAE;AACV,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,eAAe,EAAE,MAAA,CAAA,gBAAA;AAFZ,KADG;AAKV,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,MADF;AAEJ,MAAA,eAAe,EAAE,MAAA,CAAA,uBAAA;AAFb,KALI;AASV,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,IADF;AAEJ,MAAA,eAAe,EAAE,MAAA,CAAA,sBAAA;AAFb;AATI;AAJ6B,CAAd,CAAhB;;;;;;;;;ACFb,IAAA,MAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AAEa,OAAA,CAAA,MAAA,GAAS,MAAA,CAAA,SAAA,CAAU;AAC9B,EAAA,MAAM,EAAE,CAAC,SAAA,CAAA,aAAD;AADsB,CAAV,CAAT;;;;;;;;;;;;;;ACHb,IAAA,SAAA,GAAA,eAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;AACA,IAAA,QAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,IAAA,QAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,IAAA,QAAA,GAAA,eAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAO,MAAP;AAEA,IAAM,GAAG,GAAG,SAAA,CAAA,OAAA,EAAZ;AAEA,GAAG,CAAC,GAAJ,CAAO,KAAP,CAAA,GAAA,EACK,QAAA,CAAA,iBAAA,CAAkB;AACnB,EAAA,YAAY,EAAE;AACZ,IAAA,QAAQ,EAAE,MADE;AAEZ,IAAA,MAAM,EAAA,QAAA,CAAA,MAFM;AAGZ,IAAA,qBAAqB,EAAE,OAAO,CAAC,GAAR,CAAY,SAHvB;AAIZ,IAAA,IAAI,EAAE;AACJ,MAAA,gBAAgB,EAAE;AAChB,QAAA,QAAQ,EAAE,OAAO,CAAC,GAAR,CAAY,cADN;AAEhB,QAAA,QAAQ,EAAE,OAAO,CAAC,GAAR,CAAY;AAFN,OADd;AAKJ,MAAA,GAAG,EAAE;AACH,QAAA,MAAM,EAAE,QADL;AAEH,QAAA,MAAM,EAAE,OAAO,CAAC,GAAR,CAAY;AAFjB;AALD;AAJM;AADK,CAAlB,CADL;AAoBA,IAAM,IAAI,GAAG,OAAO,CAAC,GAAR,CAAY,IAAZ,IAAoB,IAAjC;AAEA,GAAG,CAAC,MAAJ,CAAW,IAAX,EAAiB,YAAA;AACf,EAAA,OAAO,CAAC,GAAR,CAAY,8BAA4B,IAAxC;AACD,CAFD","file":"index.js","sourceRoot":"../src/server","sourcesContent":["import { composeSchema, createTextEditor, createMarkdownRteEditor, createDatePickerEditor } from '@refract-cms/core';\n\nexport const ArticleSchema = composeSchema({\n  options: {\n    alias: 'article',\n  },\n  properties: {\n    title: {\n      type: String,\n      editorComponent: createTextEditor(),\n    },\n    body: {\n      type: String,\n      editorComponent: createMarkdownRteEditor(),\n    },\n    date: {\n      type: Date,\n      editorComponent: createDatePickerEditor(),\n    },\n  },\n});\n","import { configure } from '@refract-cms/core';\nimport { ArticleSchema } from './schemas/article';\n\nexport const config = configure({\n  schema: [ArticleSchema],\n});\n","import express from 'express';\nimport { refractCmsHandler } from '@refract-cms/server';\nimport { config } from '../config';\nimport dotenv from 'dotenv';\ndotenv.config();\n\nconst app = express();\n\napp.use(\n  ...refractCmsHandler({\n    serverConfig: {\n      rootPath: '/cms',\n      config,\n      mongoConnectionString: process.env.MONGO_URI,\n      auth: {\n        adminCredentials: {\n          username: process.env.ADMIN_USERNAME,\n          password: process.env.ADMIN_PASSWORD,\n        },\n        jwt: {\n          issuer: 'my-app',\n          secret: process.env.JWT_SECRET,\n        },\n      },\n    },\n  })\n);\n\nconst PORT = process.env.PORT || 4000;\n\napp.listen(PORT, () => {\n  console.log(`Server listening on port ${PORT}`);\n});\n"]}